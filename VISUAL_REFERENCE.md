# React Drag and Drop Widget - Visual Reference Guide

## ğŸ¨ UI/UX Preview

### Normal State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â‹®â‹® First Task                     [1] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â‹®â‹® Second Task                    [2] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â‹®â‹® Third Task                     [3] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Hover State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â‹®â‹® First Task                     [1] â”‚ â† lighter background
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â‹®â‹® Second Task                    [2] â”‚ â† shadow appears
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â‹®â‹® Third Task                     [3] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Dragging State
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â‹®â‹® First Task                     [1] â”‚ â† semi-transparent
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ (opacity: 0.5)
â”‚ â‹®â‹® Second Task                    [2] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â‹®â‹® Third Task                     [3] â”‚ â† dropping here
â”‚   (light blue, dashed border)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### After Drop
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â‹®â‹® Second Task                    [1] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ â† reordered!
â”‚ â‹®â‹® Third Task                     [2] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â‹®â‹® First Task                     [3] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Drag and Drop Animation Sequence

### Frame 1: Initial
```
Cursor on item â†’ Shows pointer
Item background normal
```

### Frame 2: Drag Start
```
Mouse button down â†’ dragging cursor
Item becomes semi-transparent
Item background changes color
```

### Frame 3: Drag Over
```
Cursor over target â†’ drop cursor
Target item highlights
Border changes to dashed
Visual indication of drop zone
```

### Frame 4: Release
```
Mouse button up â†’ animation plays
Items swap positions
Backgrounds return to normal
Sort indices updated
```

---

## ğŸ“± Responsive Breakpoints

### Desktop (> 768px)
```
Full size with generous spacing

Item height: 48px
Padding: 12px 16px
Font size: 14px
Index badge: 32px
```

### Tablet (480px - 768px)
```
Moderate spacing

Item height: 44px
Padding: 10px 12px
Font size: 13px
Index badge: 28px
```

### Mobile (< 480px)
```
Compact layout

Item height: 40px
Padding: 8px 10px
Font size: 12px
Index badge: 24px
```

---

## ğŸ¨ Color Scheme

### Default Light Theme
```
Background:         #f5f5f5 (light gray)
Border:             #e0e0e0 (lighter gray)
Text:               #333333 (dark gray)
Handle:             #999999 (medium gray)

Hover:
  Background:       #fafafa (lighter)
  Border:           #d0d0d0
  Shadow:           rgba(0,0,0,0.05)

Drag/Drop:
  Background:       #e3f2fd (light blue)
  Border:           #2196f3 (blue)
  Handle:           #2196f3 (blue)

Index Badge:
  Background:       #e0e0e0
  Text:             #666666
```

---

## ğŸ—ï¸ Element Structure

### DOM Hierarchy
```
<div class="drag-and-drop-list">
  <ul class="drag-and-drop-items">
    <li class="drag-and-drop-item">
      <span class="drag-handle">â‹®â‹®</span>
      <span class="drag-item-text">Display Text</span>
      <span class="drag-item-index">1</span>
    </li>
    <!-- More items -->
  </ul>
</div>
```

### Component Dimensions

```
List Container
â”œâ”€ Width: 100% (responsive)
â”œâ”€ Padding: 16px
â””â”€ Items
   â”œâ”€ Width: 100%
   â”œâ”€ Height: 48px (adjusts on mobile)
   â”œâ”€ Margin: 8px 0
   â”œâ”€ Display: flex
   â”œâ”€ Align: center
   â””â”€ Elements
      â”œâ”€ Drag Handle
      â”‚  â”œâ”€ Width: 24px
      â”‚  â”œâ”€ Height: 24px
      â”‚  â””â”€ Margin: 0 12px
      â”œâ”€ Text
      â”‚  â”œâ”€ Flex: 1 (takes remaining space)
      â”‚  â””â”€ Overflow: ellipsis
      â””â”€ Index Badge
         â”œâ”€ Width: 32px
         â”œâ”€ Height: 24px
         â”œâ”€ Border-radius: 12px
         â””â”€ Margin: 0 12px
```

---

## ğŸ¯ Interaction States

### Keyboard States
```
Tab    â†’ Focus on item
Enter  â†’ Can be extended for actions
Space  â†’ Can be extended for actions
Escape â†’ Clear selections
```

### Mouse States
```
â†“ (pointer)          â†’ Hovering normally
â†• (grab)             â†’ Hovering on drag handle
â†• (grabbing)         â†’ During drag
â†“ (drop)             â†’ Over drop target
â†’ (pointer-events)   â†’ Normal text selection
```

### Touch States
```
tap          â†’ Select item (optional)
long-press   â†’ Could trigger drag (not used)
swipe        â†’ Could scroll list
drag         â†’ Move item (HTML5 drag)
```

---

## ğŸ“Š Data Visualization

### Initial State
```
Array: [A, B, C, D, E]
Index: 0, 1, 2, 3, 4
DB:    A(0), B(1), C(2), D(3), E(4)
```

### After Dragging A to Position 3
```
Array: [B, C, D, A, E]
Index: 0, 1, 2, 3, 4
DB:    A(3), B(0), C(1), D(2), E(4)
```

### Change Log JSON
```json
[
  {
    "uuid": "item-a",
    "oldIndex": 0,
    "newIndex": 3
  }
]
```

---

## ğŸ”„ State Management Diagram

### React State
```
items: DragItem[]
â”œâ”€ Item 1
â”‚  â”œâ”€ uuid: string
â”‚  â”œâ”€ displayText: string
â”‚  â”œâ”€ object: ObjectItem
â”‚  â””â”€ originalIndex: number
â”œâ”€ Item 2
â””â”€ Item 3

draggedItem: DragItem | null
â”œâ”€ null (not dragging)
â””â”€ DragItem (current drag)

draggedOverItem: DragItem | null
â”œâ”€ null (not over item)
â””â”€ DragItem (over this item)
```

---

## âš™ï¸ Configuration Mapping

### Widget XML Properties
```xml
<property name="dataSource">     â†’ ListValue
<property name="uuidAttribute">  â†’ String attribute name
<property name="displayAttribute">â†’ String attribute name
<property name="sortingAttribute">â†’ Integer attribute name
<property name="changeJsonAttribute">â†’ String attribute name
```

### Component Props
```typescript
dataSource: ListValue
uuidAttribute: "ItemId"
displayAttribute: "ItemName"
sortingAttribute: "SortOrder"
changeJsonAttribute: "ChangeLog"
```

### Entity Attributes
```
Entity: MyItem
â”œâ”€ ItemId (String)       â† uuidAttribute
â”œâ”€ ItemName (String)     â† displayAttribute
â”œâ”€ SortOrder (Integer)   â† sortingAttribute
â””â”€ ChangeLog (String)    â† changeJsonAttribute
```

---

## ğŸ”€ Flow Diagram: Complete Drag Sequence

```
START
  â†“
User Presses on Item A
  â†“
handleDragStart(Item A)
â”œâ”€ draggedItem = Item A
â”œâ”€ visual: item becomes semi-transparent
â””â”€ visual: background turns blue
  â†“
User Moves Mouse Over Item C
  â†“
handleDragOver(Item C)
â”œâ”€ draggedOverItem = Item C
â”œâ”€ visual: Item C gets dashed border
â””â”€ visual: Item C background highlights
  â†“
User Releases Mouse
  â†“
handleDragEnd()
â”œâ”€ Find Item A index (old: 0)
â”œâ”€ Find Item C index (new: 2)
â”œâ”€ Remove Item A from array
â”œâ”€ Insert Item A at Item C position
â”œâ”€ Result: [B, C, A, D, E]
â”œâ”€ Update sortingAttribute for all items
â”œâ”€ Update changeJsonAttribute with:
â”‚  [{uuid: "A", oldIndex: 0, newIndex: 2}]
â”œâ”€ visual: Return to normal
â””â”€ setItems([B, C, A, D, E])
  â†“
COMPLETE
```

---

## ğŸ“ CSS Animation Timeline

```
Transition Duration: 0.2s ease-in-out

Normal State (0ms)
â”œâ”€ Background: #f5f5f5
â”œâ”€ Border: #e0e0e0
â”œâ”€ Transform: scale(1)
â””â”€ Opacity: 1

Hover State (100ms)
â”œâ”€ Background: #fafafa
â”œâ”€ Border: #d0d0d0
â”œâ”€ Transform: scale(1)
â””â”€ Shadow: 0 2px 4px

Dragging State (200ms)
â”œâ”€ Background: #e3f2fd
â”œâ”€ Border: #2196f3
â”œâ”€ Transform: scale(1.05)
â””â”€ Opacity: 0.5
```

---

## ğŸ¯ Event Handler Sequence

```
Timeline of Events During Drag

T0: dragstart
    â””â”€ setDraggedItem(item)

T+X: dragover (multiple times)
    â”œâ”€ Prevent default
    â””â”€ setDraggedOverItem(item)

T+Y: dragleave
    â””â”€ setDraggedOverItem(null)

T+Z: drop
    â””â”€ handleDragEnd()
    
T+Z: dragend
    â””â”€ Cleanup

Total Time: 300-500ms typical
```

---

## ğŸ” Visual Feedback System

### Visual Cues Provided

| State | Visual | Feedback |
|-------|--------|----------|
| Normal | Gray background | Item ready to interact |
| Hover | Light background, shadow | Item is interactive |
| Dragging | Blue background, semi-transparent | Currently moving |
| Drop Zone | Blue dashed border | Valid drop location |
| Position | Index badge [1], [2], [3] | Current position |

### Cursor States

| Action | Cursor | Meaning |
|--------|--------|---------|
| Normal | Default | Not interactive |
| On item | grab | Can drag this item |
| Dragging | grabbing | Currently dragging |
| Over target | drop | Can drop here |

---

## ğŸ“ Spacing & Sizing

### Vertical Spacing
```
Widget padding:     16px
Item margin:        8px vertical
Item padding:       12px vertical
List item height:   48px (48 + 8 + 8 = 64px with margin)
```

### Horizontal Spacing
```
Widget padding:     16px
Handle margin:      12px right
Text flex-grow:     1
Index badge margin: 12px left
```

### Font Sizing
```
Text:       14px (desktop), 13px (tablet), 12px (mobile)
Index:      12px
Handle:     16px
```

---

## â™¿ Accessibility

### Keyboard Navigation
```
Tab     â†’ Navigate to items (if tabindex added)
Shift+Tab â†’ Navigate backward
Enter   â†’ Could trigger actions
Esc     â†’ Clear drag state
```

### Screen Reader
```
Item List
â”œâ”€ List: 5 items
â””â”€ Item: "Task Name, position 1 of 5"
```

### Focus Indicators
```
When focused, item shows:
â”œâ”€ Border color change
â”œâ”€ Box shadow
â””â”€ Outline (browser default)
```

---

This visual reference guide complements the technical documentation. Use it to understand the visual behavior and layout of the drag and drop component!
